<!DOCTYPE html>
<html lang="en">
    
    <head>

        
        
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-135109602-1"></script>
        <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-135109602-1');
        </script>

        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
    
        <title>
    Create database, tables with relation | Nitin Patil
</title>
    
        <link rel="icon" type="image/x-icon" href="/images/favicon.ico">
    
        <meta name="generator" content="Hugo 0.53" />
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    
        
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>
        
        
        <link rel="stylesheet" href="/css/custom.css"><link rel="stylesheet" href="/css/syntax.css">

        
        <script type="text/x-mathjax-config">
            MathJax.Hub.Config({
              TeX: { extensions: ["autobold.js"]
                    },
              MathML: {
                    extensions: ["mml3.js", "content-mathml.js"]
                    },
              tex2jax: { inlineMath: [['$','$'], ['\\(','\\)']] }
            });
        </script>

        <script type="text/javascript" async
          src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async>
        </script>
    
    </head>

    <body>
        
        
        <section id="nav-bar">
            <nav class="navbar navbar-expand-lg navbar-light bg-light">
                <div class="container">
                    <a class="navbar-brand" href="/">Nitin Patil</a>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                            aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>

                    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                        <ul class="nav navbar-nav mr-auto"></ul>
                        <ul class="navbar-nav">
                            <li class="nav-item">
                                <a class="nav-link" href="/projects/projects">Projects</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="/about/me">About</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>
        </section>


        
        <section id="page-content">
            
<page_content>
    <header>
        <div class="container">
            <div class="note-title">
                <h1 class="title">Create database, tables with relation</h1>

                <div class="note-meta">
                    <div class="date">
                        <span class="posted-on">
                                
                            <i class="fa fa-calendar"></i>
                            <time datetime='2019-03-29T19:14:46&#43;05:30'>
                                March 29, 2019
                            </time>
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </header>
    
    <div class="container">
        <div class="post-content">
            

<h3 id="create-database">Create database</h3>

<p>Create a new database named as <code>employees</code></p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="c1">-- Create a database
</span><span class="c1"></span><span class="k">CREATE</span> <span class="k">DATABASE</span> <span class="k">IF</span> <span class="k">NOT</span> <span class="k">EXISTS</span> <span class="n">employees</span><span class="p">;</span></code></pre></div>
<p>Show all the databases</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="k">SHOW</span> <span class="n">DATABASES</span></code></pre></div><div class="highlight"><pre class="chroma">[(&#39;employees&#39;,),
 (&#39;information_schema&#39;,),
 (&#39;mysql&#39;,),
 (&#39;performance_schema&#39;,),
 (&#39;sakila&#39;,),
 (&#39;sys&#39;,),
 (&#39;world&#39;,)]</pre></div>
<p>Set the current database as <code>employees</code></p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="n">USE</span> <span class="n">employees</span><span class="p">;</span></code></pre></div>
<p>Check what is current database</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="k">SELECT</span> <span class="k">DATABASE</span><span class="p">()</span></code></pre></div><div class="highlight"><pre class="chroma">[(&#39;employees&#39;,)]</pre></div>
<h3 id="create-tables">Create tables</h3>

<p>Create <code>employees</code> table</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">employees</span> <span class="p">(</span>
    <span class="n">emp_no</span>      <span class="nb">INT</span> <span class="n">UNSIGNED</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="n">AUTO_INCREMENT</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">,</span>
    <span class="n">birth_date</span>  <span class="nb">DATE</span>            <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
    <span class="n">first_name</span>  <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>     <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
    <span class="n">last_name</span>   <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>     <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
    <span class="n">gender</span>      <span class="n">ENUM</span> <span class="p">(</span><span class="s1">&#39;M&#39;</span><span class="p">,</span><span class="s1">&#39;F&#39;</span><span class="p">)</span>  <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>    
    <span class="n">hire_date</span>   <span class="nb">DATE</span>            <span class="k">NOT</span> <span class="k">NULL</span>
<span class="p">);</span></code></pre></div>
<p><code>VARCHAR</code> - variable-length alphanumeric string, dynamic memory allocation, slower than CHAR</p>

<p><code>CHAR</code> - fixed length character string, static memory allocation, faster than VARCHAR</p>

<p><code>AUTO_INCREMENT</code> - generate unique number automatically when a new record is inserted into a table</p>

<p><code>PRIMARY KEY</code>
- uniquely identifies each record in a table.
- Primary keys must contain UNIQUE values, and cannot contain NULL values.
- A table can have only one primary key, which may consist of single or multiple fields.
- Must be given on record creation and can not be changed later.</p>

<p>Create <code>departments</code> table</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">departments</span> <span class="p">(</span>
    <span class="n">dept_no</span>     <span class="nb">CHAR</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>         <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
    <span class="n">dept_name</span>   <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">40</span><span class="p">)</span>     <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
    <span class="k">PRIMARY</span> <span class="k">KEY</span> <span class="p">(</span><span class="n">dept_no</span><span class="p">),</span>
    <span class="k">UNIQUE</span>  <span class="k">KEY</span> <span class="p">(</span><span class="n">dept_name</span><span class="p">)</span>
<span class="p">);</span></code></pre></div>
<p><code>UNIQUE  KEY</code> - all values in column are unique. You can have many UNIQUE constraints per table, but only one PRIMARY KEY constraint per table.</p>

<p>Create <code>dept_manager</code> table</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">dept_manager</span> <span class="p">(</span>
   <span class="n">emp_no</span>       <span class="nb">INT</span> <span class="n">UNSIGNED</span>    <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
   <span class="n">dept_no</span>      <span class="nb">CHAR</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>         <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
   <span class="n">from_date</span>    <span class="nb">DATE</span>            <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
   <span class="n">to_date</span>      <span class="nb">DATE</span>            <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
   <span class="k">FOREIGN</span> <span class="k">KEY</span> <span class="p">(</span><span class="n">emp_no</span><span class="p">)</span>  <span class="k">REFERENCES</span> <span class="n">employees</span> <span class="p">(</span><span class="n">emp_no</span><span class="p">)</span>    <span class="k">ON</span> <span class="k">DELETE</span> <span class="k">CASCADE</span><span class="p">,</span> 
   <span class="k">FOREIGN</span> <span class="k">KEY</span> <span class="p">(</span><span class="n">dept_no</span><span class="p">)</span> <span class="k">REFERENCES</span> <span class="n">departments</span> <span class="p">(</span><span class="n">dept_no</span><span class="p">)</span> <span class="k">ON</span> <span class="k">DELETE</span> <span class="k">CASCADE</span><span class="p">,</span>
   <span class="k">PRIMARY</span> <span class="k">KEY</span> <span class="p">(</span><span class="n">emp_no</span><span class="p">,</span> <span class="n">dept_no</span><span class="p">)</span>
<span class="p">);</span></code></pre></div>
<p><code>FOREIGN KEY</code>
- a key used to link two tables together.
- is a field (or collection of fields) in one table that refers to the PRIMARY KEY in another table.
- the table containing the foreign key is called the child table, and the table containing the candidate key is called the referenced or parent table.
- the value of foreign key could be NULL
- it doesn&rsquo;t have to be unique</p>

<p><code>ON DELETE CASCADE</code> - means if a record in the parent table is deleted, then the corresponding records in the child table will automatically be deleted.</p>

<p><code>UNSIGNED</code> - only positive number</p>

<p><code>MEDIUMINT</code> - medium sized integer</p>

<p>Create <code>dept_emp</code> table</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">dept_emp</span> <span class="p">(</span>
    <span class="n">emp_no</span>      <span class="nb">INT</span> <span class="n">UNSIGNED</span>    <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
    <span class="n">dept_no</span>     <span class="nb">CHAR</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>         <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
    <span class="n">from_date</span>   <span class="nb">DATE</span>            <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
    <span class="n">to_date</span>     <span class="nb">DATE</span>            <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
    <span class="k">FOREIGN</span> <span class="k">KEY</span> <span class="p">(</span><span class="n">emp_no</span><span class="p">)</span>  <span class="k">REFERENCES</span> <span class="n">employees</span>   <span class="p">(</span><span class="n">emp_no</span><span class="p">)</span>  <span class="k">ON</span> <span class="k">DELETE</span> <span class="k">CASCADE</span><span class="p">,</span>
    <span class="k">FOREIGN</span> <span class="k">KEY</span> <span class="p">(</span><span class="n">dept_no</span><span class="p">)</span> <span class="k">REFERENCES</span> <span class="n">departments</span> <span class="p">(</span><span class="n">dept_no</span><span class="p">)</span> <span class="k">ON</span> <span class="k">DELETE</span> <span class="k">CASCADE</span><span class="p">,</span>
    <span class="k">PRIMARY</span> <span class="k">KEY</span> <span class="p">(</span><span class="n">emp_no</span><span class="p">,</span> <span class="n">dept_no</span><span class="p">)</span>
<span class="p">);</span></code></pre></div>
<p>Create <code>titles</code> table</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">titles</span> <span class="p">(</span>
    <span class="n">emp_no</span>      <span class="nb">INT</span> <span class="n">UNSIGNED</span>    <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
    <span class="n">title</span>       <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>     <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
    <span class="n">from_date</span>   <span class="nb">DATE</span>            <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
    <span class="n">to_date</span>     <span class="nb">DATE</span><span class="p">,</span>
    <span class="k">FOREIGN</span> <span class="k">KEY</span> <span class="p">(</span><span class="n">emp_no</span><span class="p">)</span> <span class="k">REFERENCES</span> <span class="n">employees</span> <span class="p">(</span><span class="n">emp_no</span><span class="p">)</span> <span class="k">ON</span> <span class="k">DELETE</span> <span class="k">CASCADE</span><span class="p">,</span>
    <span class="k">PRIMARY</span> <span class="k">KEY</span> <span class="p">(</span><span class="n">emp_no</span><span class="p">,</span><span class="n">title</span><span class="p">,</span> <span class="n">from_date</span><span class="p">)</span>
<span class="p">);</span></code></pre></div>
<p>Create <code>salaries</code> table</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">salaries</span> <span class="p">(</span>
    <span class="n">emp_no</span>      <span class="nb">INT</span> <span class="n">UNSIGNED</span>    <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
    <span class="n">salary</span>      <span class="nb">INT</span>             <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
    <span class="n">from_date</span>   <span class="nb">DATE</span>            <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
    <span class="n">to_date</span>     <span class="nb">DATE</span>            <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
    <span class="k">FOREIGN</span> <span class="k">KEY</span> <span class="p">(</span><span class="n">emp_no</span><span class="p">)</span> <span class="k">REFERENCES</span> <span class="n">employees</span> <span class="p">(</span><span class="n">emp_no</span><span class="p">)</span> <span class="k">ON</span> <span class="k">DELETE</span> <span class="k">CASCADE</span><span class="p">,</span>
    <span class="k">PRIMARY</span> <span class="k">KEY</span> <span class="p">(</span><span class="n">emp_no</span><span class="p">,</span> <span class="n">from_date</span><span class="p">)</span>
<span class="p">);</span></code></pre></div>
<p>Show all the tables in database</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="k">SHOW</span> <span class="n">TABLES</span><span class="p">;</span></code></pre></div><div class="highlight"><pre class="chroma">[(&#39;employees&#39;,), (&#39;departments&#39;,), (&#39;dept_manager&#39;,), (&#39;dept_emp&#39;,), (&#39;titles&#39;,), (&#39;salaries&#39;,)]</pre></div>
<h3 id="entity-relationship-er-diagram">Entity Relationship (ER) diagram</h3>

<p>Looking at the ER diagram we can understand the complete picture. How different tables are connected with each other and what kind of data each table contains.</p>

<p><img src="er_diagram.png" alt="er_diagram" /></p>

<h3 id="references">References</h3>

<ul>
<li><a href="https://medium.com/@tushar0618/how-to-create-er-diagram-of-a-database-in-mysql-workbench-209fbf63fd03">Create ER Diagram of a Database in MySQL Workbench</a></li>
<li><a href="https://dev.mysql.com/doc/employee/en/">Employees database</a></li>
</ul>

        </div>
    </div>
</page_content>

        </section>
    

        
        <footer class="footer text-center">
            <div class="container">
                <span class="text-muted">Copyright &copy; Nitin Patil, <time datetime="2019">2019</time></span>
            </div>
        </footer>
    
    </body>

</html>
